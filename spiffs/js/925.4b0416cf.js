(self["webpackChunkvue_module"]=self["webpackChunkvue_module"]||[]).push([[925],{2925:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"systemStatusContainer"},[e("div",{staticClass:"row"},[e("div",{staticClass:"section"},[t._m(0),e("div",{staticClass:"sectionContent"},[e("el-descriptions",{attrs:{direction:"vertical",column:4,border:"",width:"600px",height:"100%"}},[e("el-descriptions-item",{attrs:{label:"硬件版本号"}},[t._v(" "+t._s(t.systemStatusForm.hard_ver))]),e("el-descriptions-item",{attrs:{label:"软件版本号"}},[t._v(t._s(t.systemStatusForm.soft_ver))]),e("el-descriptions-item",{attrs:{label:"系统已运行时长"}},[t._v(t._s(t.systemStatusForm.time))]),e("el-descriptions-item",{attrs:{label:"读写器温度"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.systemStatusForm.tempt)+"℃")])],1),e("el-descriptions-item",{attrs:{label:"读写器湿度"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(t.systemStatusForm.humt)+"%")])],1),e("el-descriptions-item",{attrs:{label:"系统模块状态"}},[t._v(t._s(t.systemStatusForm.err_code))])],1)],1)])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sectionTitle"},[e("span",[t._v("系统状态")])])}],n=s(6954);function o(t){const e=Math.floor(t/3600),s=Math.floor(t%3600/60),r=t%60,a=String(e).padStart(2,"0"),n=String(s).padStart(2,"0"),o=String(r).padStart(2,"0");return`${a}:${n}:${o}`}s(3751);var i={data(){return{systemLogin:{},systemWifi:{},systemParam:{},systemStatusForm:{hard_ver:"",soft_ver:"",time:"",tempt:"",humt:"",err_code:""},time:null}},mounted(){this.getStatus(),this.getDynamic(),this.time=setInterval((()=>{this.getDynamic()}),3e3)},beforeDestroy(){clearInterval(this.time)},methods:{getStatus(){(0,n.Vm)().then((t=>{this.systemStatusForm.hard_ver=t.data.hard_ver,this.systemStatusForm.soft_ver=t.data.soft_ver,this.systemParam={...t.data}}))},getDynamic(){(0,n.lR)().then((t=>{console.log("动态",t.data),this.systemStatusForm.time=o(parseInt(t.data.time)),this.systemStatusForm.tempt=t.data.tempt,this.systemStatusForm.humt=t.data.humt,this.systemStatusForm.err_code=t.data.err_code,this.systemStatusForm.err_code=this.change(parseInt(this.systemStatusForm.err_code).toString(2).padStart(8,"0"))}))},change(t){let e="";for(let s=0;s<8;s+=2){const r=t.substring(s,s+2);0===s?e+="00"===r?"RFID模块正常__":"RFID模块异常__":2===s?e+="00"===r?"正常连接Internet__":"网络没有正常连接__":4===s&&(e+="00"===r?"正常连接MQTT":"MQTT连接异常")}return e}}},u=i,m=s(1001),l=(0,m.Z)(u,r,a,!1,null,"6f588371",null),c=l.exports},6954:function(t,e,s){"use strict";s.d(e,{Jn:function(){return m},Nr:function(){return l},Pj:function(){return o},Vm:function(){return a},YC:function(){return u},jo:function(){return i},lR:function(){return n},qR:function(){return c}});var r=s(7004);function a(){return(0,r.Z)({url:"/sys_info",method:"get"})}function n(){return(0,r.Z)({url:"/sys_sta",method:"get"})}function o(t){return(0,r.Z)({url:"/sys_info",method:"post",data:t})}function i(){return(0,r.Z)({url:"/sys_restart",method:"get"})}function u(){return(0,r.Z)({url:"/wlan_general",method:"get"})}function m(t){return(0,r.Z)({url:"/wlan_general",method:"post",data:t})}function l(){return(0,r.Z)({url:"/auth_info",method:"get"})}function c(t){return(0,r.Z)({url:"/auth_info",method:"post",data:t})}},2384:function(t,e,s){s(2794);t.exports={title:"Admin",fixedHeader:!1,sidebarLogo:!1,baseUrl:"http://192.168.4.1"}},2794:function(t){t.exports={urlBeforeHash:""}},7004:function(t,e,s){"use strict";var r=s(7422),a=s(3751),n=s(2384);const o=n.baseUrl,i=r.Z.create({baseURL:o,timeout:15e3});i.interceptors.request.use((t=>{if(localStorage.getItem("username")){const e={username:localStorage.getItem("username"),password:localStorage.getItem("password")};t.auth={...e}}return t}),(t=>Promise.reject(t))),i.interceptors.response.use((t=>"ok"===t.status||200===t.status?t:alert("接口寄了")),(t=>{if(t.response)switch(t.response.status){case 401:localStorage.removeItem("token"),alert("身份过期，请重新登录"),a.Z.push("/login")}return Promise.reject(t.response.data)})),e["Z"]=i}}]);